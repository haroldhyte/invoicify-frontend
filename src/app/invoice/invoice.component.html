<section @fadeInAnimation>
    <ol class="breadcrumb">
        <li><a routerLink="/home">Home</a></li>
        <li class="active">Invoices</li>
    </ol>

    <app-status-message [successMessage]="successMessage" [errorMessage]="errorMessage"></app-status-message>

    <h2>Manage Invoices</h2>

    <a *ngIf="companyId == -1" class="btn btn-primary" routerLink="/invoice/add">Add Invoice</a>

    <table class="table table-striped table-bordered" id="dataTable" style="width:100%">
      <thead>
        <tr>
          <th (click)="sortBy('id')">ID</th>
          <th (click)="sortBy('invoiceDescription')">Description</th>
          <th (click)="sortBy('client')">Client</th>
          <th (click)="sortBy('lineItems.length')">Line Items</th>
          <th (click)="sortBy('createdBy')">Created By</th>
          <th (click)="sortBy('createdOn')">Created On</th>
          <th (click)="sortBy('dueDate')">Due Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let invoice of invoices">
          <td>{{invoice.id}}</td>
          <td>{{invoice.invoiceDescription}}</td>
          <td>{{invoice.company.name}}</td>
          <td>{{invoice.lineItems.length}}</td>
          <td>{{invoice.createdBy.username}}</td>
          <td>{{invoice.createdOn | date:"MM/dd/yy"}}</td>
          <td>{{invoice.dueDate | date:"MM/dd/yy"}}</td>
        </tr>
      </tbody>
    </table>
  </section>
